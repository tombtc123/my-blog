import { e as createAstro, c as createComponent, r as renderComponent, b as renderHead, f as renderSlot, g as renderScript, a as renderTemplate, F as Fragment, d as addAttribute } from './astro/server_Dyr8R2c-.mjs';
import 'piccolore';
import { $ as $$BaseHead, a as $$Header, b as $$Footer } from './Header_DT8_dl2_.mjs';
import { $ as $$FormattedDate } from './FormattedDate_Yhpej4dw.mjs';
/* empty css                         */

const $$Astro = createAstro("https://blocktom.com");
const $$BlogPost = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$BlogPost;
  const { title, description, pubDate, updatedDate, heroImage, headings = [], tags, category, body = "" } = Astro2.props;
  function calculateReadingTime(content) {
    const plainText = content.replace(/[#*`\[\]()]/g, "").replace(/<[^>]*>/g, "");
    const chineseChars = (plainText.match(/[\u4e00-\u9fa5]/g) || []).length;
    const englishWords = (plainText.match(/[a-zA-Z]+/g) || []).length;
    const totalChars = chineseChars + englishWords;
    const minutes = Math.ceil(totalChars / 300);
    return minutes || 1;
  }
  return renderTemplate`<html lang="en" data-astro-cid-bvzihdzo> <head>${renderComponent($$result, "BaseHead", $$BaseHead, { "title": title, "description": description, "image": heroImage, "data-astro-cid-bvzihdzo": true })}${renderHead()}</head> <body data-astro-cid-bvzihdzo> ${renderComponent($$result, "Header", $$Header, { "data-astro-cid-bvzihdzo": true })} <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="article-container" data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <h1 class="!text-xl md:!text-3xl font-bold !leading-snug" data-astro-cid-bvzihdzo>${title}</h1> <hr data-astro-cid-bvzihdzo> <div class="date" data-astro-cid-bvzihdzo> ${renderComponent($$result, "FormattedDate", $$FormattedDate, { "date": pubDate, "data-astro-cid-bvzihdzo": true })} ${updatedDate && renderTemplate`<div class="last-updated-on" data-astro-cid-bvzihdzo>
Last updated on ${renderComponent($$result, "FormattedDate", $$FormattedDate, { "date": updatedDate, "data-astro-cid-bvzihdzo": true })} </div>`} <div class="post-meta-info" data-astro-cid-bvzihdzo> <span data-astro-cid-bvzihdzo>${calculateReadingTime(body)} 分钟阅读</span> ${category && renderTemplate`${renderComponent($$result, "Fragment", Fragment, { "data-astro-cid-bvzihdzo": true }, { "default": ($$result2) => renderTemplate` <span class="meta-separator" data-astro-cid-bvzihdzo>·</span> <span data-astro-cid-bvzihdzo>${category}</span> ` })}`} </div> </div> </div> ${heroImage && renderTemplate`<img${addAttribute(heroImage.src, "src")}${addAttribute(title, "alt")} class="hero-image" data-astro-cid-bvzihdzo>`} ${renderSlot($$result, $$slots["default"])} ${tags && tags.length > 0 && renderTemplate`<div class="post-tags" data-astro-cid-bvzihdzo> ${tags.map((tag) => renderTemplate`<span class="post-tag" data-astro-cid-bvzihdzo>#${tag}</span>`)} </div>`} </div> ${headings.length > 0 && renderTemplate`<nav class="toc" id="toc" data-astro-cid-bvzihdzo> <div class="toc-title" data-astro-cid-bvzihdzo>目录</div> <ul class="toc-list" data-astro-cid-bvzihdzo> ${headings.map((heading) => {
    const slug = heading.slug || heading.text.toLowerCase().replace(/[^\w\s-]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-").trim();
    return renderTemplate`<li${addAttribute(`toc-item ${heading.depth === 3 ? "toc-item-h3" : ""}`, "class")} data-astro-cid-bvzihdzo> <a${addAttribute(`#${slug}`, "href")} class="toc-link"${addAttribute(slug, "data-slug")} data-astro-cid-bvzihdzo> ${heading.text} </a> </li>`;
  })} </ul> </nav>`} </div> </article> </main> ${renderComponent($$result, "Footer", $$Footer, { "data-astro-cid-bvzihdzo": true })} <!-- Mobile TOC Button (only visible on mobile) --> ${headings.length > 0 && renderTemplate`${renderComponent($$result, "Fragment", Fragment, { "data-astro-cid-bvzihdzo": true }, { "default": ($$result2) => renderTemplate` <button id="mobile-toc-button" class="mobile-toc-button" aria-label="Table of Contents" data-astro-cid-bvzihdzo> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-bvzihdzo> <line x1="8" y1="6" x2="21" y2="6" data-astro-cid-bvzihdzo></line> <line x1="8" y1="12" x2="21" y2="12" data-astro-cid-bvzihdzo></line> <line x1="8" y1="18" x2="21" y2="18" data-astro-cid-bvzihdzo></line> <line x1="3" y1="6" x2="3.01" y2="6" data-astro-cid-bvzihdzo></line> <line x1="3" y1="12" x2="3.01" y2="12" data-astro-cid-bvzihdzo></line> <line x1="3" y1="18" x2="3.01" y2="18" data-astro-cid-bvzihdzo></line> </svg> </button>  <div id="mobile-toc-overlay" class="mobile-toc-overlay" data-astro-cid-bvzihdzo></div>  <div id="mobile-toc-panel" class="mobile-toc-panel" data-astro-cid-bvzihdzo> <div class="mobile-toc-header" data-astro-cid-bvzihdzo> <div class="toc-title" data-astro-cid-bvzihdzo>目录</div> <button id="mobile-toc-close" class="mobile-toc-close" aria-label="Close" data-astro-cid-bvzihdzo> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-bvzihdzo> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-bvzihdzo></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-bvzihdzo></line> </svg> </button> </div> <ul class="toc-list" data-astro-cid-bvzihdzo> ${headings.map((heading) => {
    const slug = heading.slug || heading.text.toLowerCase().replace(/[^\w\s-]/g, "").replace(/\s+/g, "-").replace(/-+/g, "-").trim();
    return renderTemplate`<li${addAttribute(`toc-item ${heading.depth === 3 ? "toc-item-h3" : ""}`, "class")} data-astro-cid-bvzihdzo> <a${addAttribute(`#${slug}`, "href")} class="toc-link mobile-toc-link"${addAttribute(slug, "data-slug")} data-astro-cid-bvzihdzo> ${heading.text} </a> </li>`;
  })} </ul> </div> ` })}`} <button id="back-to-top" class="back-to-top" aria-label="Back to top" data-astro-cid-bvzihdzo> <svg class="back-to-top-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-bvzihdzo> <path d="m18 15-6-6-6 6" data-astro-cid-bvzihdzo></path> </svg> </button> ${renderScript($$result, "/Users/tom/vibecode/my-vibe-blog/src/layouts/BlogPost.astro?astro&type=script&index=0&lang.ts")} </body> </html>`;
}, "/Users/tom/vibecode/my-vibe-blog/src/layouts/BlogPost.astro", void 0);

export { $$BlogPost as $ };
